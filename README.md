# 网页金句图片生成器 Chrome 插件

一个可以将网页文字内容转换为精美图片的Chrome浏览器插件，特别适合分享名言警句、优美段落和重要内容。

## 🎯 项目概述

这个Chrome插件允许用户从网页中提取文字内容，并将其转换为不同风格的竖版图片，便于在社交媒体、笔记应用或聊天工具中分享。

## ✨ 核心功能

### 第一阶段：简单版本（MVP）

#### 1. 文字输入方式
- **手动复制粘贴**：用户需要手动在网页中复制文字内容，然后在插件弹出窗口中粘贴
- **输入框设计**：提供清晰的文本输入区域，支持多行文本编辑，自动换行，支持快捷键粘贴
- **字数统计**：实时显示当前文字数量，便于控制图片内容长度（建议单次输入不超过500字）
- **文本预处理**：自动去除多余空白字符，保持文本整洁

#### 2. 图片生成特性
- **竖版设计**：以纵向布局为主，标准宽度600px，适合移动端浏览和分享
- **自适应高度**：根据文字内容的长度自动调整图片高度，最小高度800px，最大高度2000px
- **基础样式**：提供3种基础模板风格
  - **经典文艺**：优雅字体，淡色背景，适合名言警句
  - **简约现代**：简洁布局，清晰字体，适合技术内容
  - **温暖治愈**：柔和色调，圆角设计，适合生活感悟
- **字体设置**：默认使用系统中文字体，保证跨平台显示一致性
- **间距优化**：自动调整行间距和段落间距，确保阅读舒适度

#### 3. 图片导出功能
- **格式支持**：PNG格式，保证图片质量和透明度
- **分辨率**：标准分辨率600px宽，高度自适应，适合社交媒体分享
- **一键下载**：点击下载按钮直接保存到本地，文件名自动生成（格式：金句_YYYYMMDD_HHMMSS.png）
- **预览功能**：生成前提供实时预览，确保效果满意
- **复制到剪贴板**：支持将生成的图片直接复制到剪贴板，方便快速粘贴分享

### 第二阶段：扩展功能（未来规划）

#### 1. 文字获取方式增强
- **智能识别**：自动识别网页中的重点段落和标题
- **一键提取**：点击插件图标即可提取当前页面主要内容
- **选区识别**：支持鼠标划词选择特定区域内容

#### 2. 图片样式丰富
- **多种模板**：提供10+种不同风格的图片模板
- **自定义样式**：支持字体、颜色、背景、间距等自定义设置
- **预设主题**：文艺、商务、简约、复古等多种主题风格

#### 3. 高级功能
- **二维码集成**：在图片底部添加原文链接二维码
- **水印功能**：支持添加自定义水印
- **批量处理**：支持一次性生成多张图片
- **云端同步**：保存用户偏好设置和模板

## 🎨 界面设计

### 插件弹出窗口
- **简洁布局**：顶部为标题，中间为文本输入区，底部为操作按钮
- **窗口尺寸**：固定宽度400px，高度600px，确保在不同屏幕尺寸下的良好显示
- **实时预览**：输入文字时实时显示图片效果预览，预览区域占窗口高度的40%
- **模板切换**：通过直观的卡片式选择器选择不同模板，每个模板显示缩略图预览
- **操作按钮**：清晰的"生成图片"和"下载"按钮，按钮状态根据操作进度动态变化
- **响应式设计**：支持键盘快捷键操作，提升用户体验

### 图片模板设计
- **留白设计**：左右边距80px，上下边距100px，保证阅读舒适度
- **文字排版**：最大宽度440px，确保文字居中显示
- **背景处理**：支持纯色背景和渐变色背景，保持简洁大方
- **装饰元素**：每个模板包含简约的装饰元素，增强视觉效果但不干扰文字阅读
- **字体选择**：使用清晰易读的中文字体
- **配色方案**：提供多种配色方案供选择

## 🔧 技术实现

### 前端技术栈
- **Chrome Extension API**：使用Chrome扩展开发框架
- **HTML/CSS/JavaScript**：基础前端技术
- **Canvas API**：用于图片生成和渲染
- **FileSaver.js**：处理文件下载功能

### 核心功能模块
1. **内容输入模块**：处理用户文本输入和验证
2. **模板引擎模块**：管理不同图片模板的渲染逻辑
3. **图片生成模块**：使用Canvas将文本转换为图片
4. **导出下载模块**：处理图片保存和下载

## 📋 开发计划

### Phase 1: MVP版本（1-2周）
- [ ] 基础Chrome插件框架搭建
- [ ] 文本输入和验证功能
- [ ] 基础图片模板（3种风格）
- [ ] 图片生成和下载功能
- [ ] 基础UI界面设计

### Phase 2: 功能完善（2-3周）
- [ ] 更多图片模板（10+种风格）
- [ ] 模板预览功能
- [ ] 设置保存功能
- [ ] 错误处理和用户提示

### Phase 3: 高级功能（3-4周）
- [ ] 智能内容提取
- [ ] 自定义样式设置
- [ ] 二维码生成
- [ ] 批量处理功能

## 🚀 使用流程

### 基础使用流程
1. 在网页中选中并复制需要的文字内容
2. 点击浏览器工具栏中的插件图标
3. 在弹出窗口中粘贴文字内容
4. 选择喜欢的图片模板风格
5. 点击"生成图片"按钮预览效果
6. 满意后点击"下载"保存图片

### 高级使用流程（未来版本）
1. 直接点击插件图标自动提取页面重点内容
2. 在模板库中选择或自定义样式
3. 调整字体、颜色、背景等参数
4. 添加二维码或水印
5. 批量生成多张图片

## 📁 项目结构

```
chrome-extension/
├── manifest.json          # 插件配置文件
├── popup.html             # 弹出窗口界面
├── popup.js               # 弹出窗口逻辑
├── content.js             # 内容脚本
├── background.js          # 后台脚本
├── styles/
│   ├── popup.css          # 弹出窗口样式
│   └── templates.css      # 模板样式
├── templates/
│   ├── classic.js         # 经典模板
│   ├── modern.js          # 现代模板
│   └── minimal.js         # 简约模板
└── assets/
    ├── icons/             # 插件图标
    └── fonts/             # 字体文件
```

## 🔍 技术细节

### 图片生成原理
使用HTML5 Canvas API将文本内容渲染为图片：
1. 创建Canvas画布
2. 根据模板样式设置画布尺寸和背景
3. 使用measureText计算文字布局
4. 分段渲染长文本内容
5. 将Canvas转换为DataURL
6. 触发下载操作

### 自适应高度算法
```javascript
function calculateCanvasHeight(text, maxWidth, lineHeight) {
    const words = text.split(' ');
    let line = '';
    let lines = 1;
    
    for(let word of words) {
        const testLine = line + word + ' ';
        const metrics = ctx.measureText(testLine);
        
        if (metrics.width > maxWidth && line !== '') {
            line = word + ' ';
            lines++;
        } else {
            line = testLine;
        }
    }
    
    return lines * lineHeight + padding * 2;
}
```

## 📝 注意事项

### 性能优化
- 限制单次处理的文字长度（建议不超过500字）
- 使用防抖技术避免频繁渲染
- 图片尺寸优化，平衡质量和文件大小

### 用户体验
- 提供清晰的进度提示
- 错误处理和友好提示
- 操作反馈和动画效果

### 兼容性
- 支持Chrome 80+版本
- 移动端浏览器兼容性考虑
- 中文字体显示优化

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进这个项目！

## 📄 许可证

MIT License

---

## 📦 项目状态

**当前版本**：1.0.0（MVP版本）
**开发状态**：已完成核心功能
**支持平台**：Chrome浏览器 80+版本

## 🚀 使用说明

### 安装方法
1. 打开Chrome浏览器，进入 `chrome://extensions/`
2. 开启右上角的「开发者模式」
3. 点击「加载已解压的扩展程序」
4. 选择 `chrome-extension` 目录
5. 插件安装成功，会在浏览器工具栏看到「网页金句图片生成器」图标

### 使用步骤
1. 在网页中选中并复制需要的文字内容
2. 点击浏览器工具栏中的插件图标
3. 在弹出窗口中粘贴文字内容
4. 选择喜欢的图片模板风格（经典文艺、简约现代、温暖治愈）
5. 实时查看预览效果
6. 点击「生成图片」按钮
7. 点击「下载」保存图片到本地，或点击「复制到剪贴板」直接粘贴分享

## 🌟 核心特性

- **简单易用**：手动复制粘贴，操作流程清晰
- **多种模板**：提供3种不同风格的图片模板
- **自适应高度**：根据文字内容自动调整图片高度
- **高清导出**：PNG格式，保证图片质量
- **快速分享**：支持一键下载和复制到剪贴板

## 📁 项目结构

```
chrome-extension/
├── manifest.json          # 插件配置文件（Manifest V3）
├── popup.html             # 弹出窗口界面
├── popup.js               # 弹出窗口逻辑
├── background.js          # 后台Service Worker
├── styles/
│   └── popup.css          # 弹出窗口样式
├── assets/
│   └── icons/             # 插件图标
└── templates/             # 模板目录（预留）
```

**项目状态**：已完成  
**目标用户**：需要分享网页内容的用户  
**核心价值**：简单易用的网页内容图片化工具